<div class="situacion-trabajador-form-container">
  <div class="form-card">
    <!-- Header -->
    <div class="form-header">
      <h2>{{ getPageTitle() }}</h2>
      <button class="back-btn" (click)="onCancel()">
        ‚Üê Volver al listado
      </button>
    </div>

    <!-- Formulario -->
    <form [formGroup]="generoForm" (ngSubmit)="onSubmit()" class="form-body">
      <div class="form-group">
        <label for="nombre">Nombre del G√©nero</label>
        <input
          type="text"
          id="nombre"
          formControlName="nombre"
          class="form-control"
          [class.error]="getFieldError('nombre')"
          placeholder="Ingrese el nombre del g√©nero"
          [readonly]="isViewing"
        />
        <span class="error-message" *ngIf="getFieldError('nombre')">
          {{ getFieldError('nombre') }}
        </span>
      </div>

      <div class="form-group">
        <label for="activo">Estado</label>
        <div class="checkbox-group">
          <input
            type="checkbox"
            id="activo"
            formControlName="activo"
            [disabled]="isViewing"
          />
          <label for="activo" class="checkbox-label">Activo</label>
        </div>
      </div>

      <!-- Informaci√≥n adicional para vista de detalles -->
      <div *ngIf="isViewing && genero" class="detail-info">
        <div class="info-item">
          <span class="info-label">ID:</span>
          <span class="info-value">{{ genero.idGenero }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Fecha de Creaci√≥n:</span>
          <span class="info-value">{{ genero.fecCreacion | date:'dd/MM/yyyy HH:mm' }}</span>
        </div>
        <div class="info-item" *ngIf="genero.fecUltimaModificacion">
          <span class="info-label">√öltima Modificaci√≥n:</span>
          <span class="info-value">{{ genero.fecUltimaModificacion | date:'dd/MM/yyyy HH:mm' }}</span>
        </div>
      </div>

      <!-- Botones de acci√≥n -->
      <div class="form-actions">
        <button type="button" class="btn btn-outline" (click)="onCancel()">
          Cancelar
        </button>

        <!-- Botones espec√≠ficos para vista de detalles -->
        <div *ngIf="isViewing" class="detail-actions">
          <button type="button" class="btn btn-warning" (click)="onEdit()">
            ‚úèÔ∏è Editar
          </button>
          <button class="btn btn-sm" [ngClass]="isViewing ? 'btn-danger' : 'btn-success'" (click)="toggleEstado()"
            [title]="isViewing ? 'Desactivar' : 'Activar'">
            {{ isViewing? 'üîí Desactivar' : 'üîì Activar' }}
          </button>
        </div>

        <!-- Bot√≥n de submit para crear/editar -->
        <button 
          *ngIf="!isViewing"
          type="submit" 
          class="btn btn-primary" 
          [disabled]="isSubmitting || generoForm.invalid"
        >
          <span *ngIf="isSubmitting" class="spinner-small"></span>
          {{ getSubmitButtonText() }}
        </button>
      </div>
    </form>
  </div>
</div>
